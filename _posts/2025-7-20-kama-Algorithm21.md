---
layout: post
title: "å›¾å½¢çš„é¢ç§¯"
date:   2025-7-20
tags: [Kama Algorithm]
comments: true
author: Venture-Li
---

## é¢˜ç›®æè¿°

> è€ƒè™‘ä¸€ä¸ªç®€å•çš„å›¾å½¢ç±»å±‚æ¬¡ç»“æ„ï¼ŒåŒ…æ‹¬åŸºç±» `Shape` å’Œä¸¤ä¸ªæ´¾ç”Ÿç±» `Rectangle` å’Œ `Circle`ã€‚  
> æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªç”¨äºè®¡ç®—é¢ç§¯çš„æ–¹æ³•ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œæ ¹æ®è¾“å…¥æ•°æ®åˆ›å»ºä¸€ä¸ªå›¾å½¢å¯¹è±¡ï¼Œç„¶åè®¡ç®—å¹¶è¾“å‡ºå…¶é¢ç§¯ã€‚  

## è¾“å…¥æè¿°

> è¾“å…¥åŒ…æ‹¬å¤šè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªå›¾å½¢çš„æè¿°ã€‚ æè¿°çš„ç¬¬ä¸€ä¸ªå•è¯æ˜¯å›¾å½¢ç±»å‹ï¼ˆ"`rectangle`"æˆ–"`circle`"ï¼‰ï¼Œç„¶åæ˜¯ä¸è¯¥å›¾å½¢ç›¸å…³çš„å‚æ•°ã€‚ å¯¹äºçŸ©å½¢ï¼Œå‚æ•°æ˜¯å®½åº¦å’Œé«˜åº¦ï¼Œå¯¹äºåœ†å½¢ï¼Œå‚æ•°æ˜¯åŠå¾„ã€‚è¾“å…¥ä»¥å•è¯"`end`"ç»“æŸã€‚  

## è¾“å‡ºæè¿°

> å¯¹äºæ¯ä¸ªå›¾å½¢æè¿°ï¼Œè¾“å‡ºå…¶ç±»å‹å’Œé¢ç§¯ã€‚ä½¿ç”¨ä¸¤ä½å°æ•°ç‚¹ç²¾åº¦è¾“å‡ºé¢ç§¯ã€‚

## è¾“å…¥ç¤ºä¾‹

> rectangle 5 3  
> circle 2  
> end  

## è¾“å‡ºç¤ºä¾‹

> Rectangle area: 15.00  
> Circle area: 12.56  

## é¢˜è§£

```c++
#include <iostream>
#include <vector>
#include <iomanip>
using namespace std;
class Shape
{
    public:
    virtual double CalculateArea() const = 0;
    virtual string GetType() const = 0;
};
class Rectangle:public Shape
{
    public:
    Rectangle(int width, int height): width(width), height(height){}

    double CalculateArea() const override
    {
        return static_cast<double>(width*height);
    }
    string GetType() const override
    {
        return "Rectangle";
    }

    private:
    int width;
    int height;
};
class Circle: public Shape
{
    public:
    Circle(int radius): radius(radius){}

    double CalculateArea() const override
    {
        return static_cast<double>(3.14*radius*radius);
    }
    string GetType() const override
    {
        return "Circle";
    }
    private:
    int radius;
};
int main()
{   
    string s;
    vector<Shape*> shapes;
    while(true)
    {
        cin>>s;
        if(s == "end")break;
        if(s == "rectangle")
        {
            int width,height;
            cin>>width>>height;
            shapes.push_back(new Rectangle(width,height));//æ³¨æ„newçš„ç”¨æ³•ä¸æ—¶æœº
        }
        else if(s == "circle")
        {
            int radius;
            cin>>radius;
            shapes.push_back(new Circle(radius));
        }
    }
    for (auto shape : shapes) 
    {
    cout << shape->GetType() << " area: " << fixed << setprecision(2) << shape->CalculateArea() << endl;
    }
    return 0;
}
```

---

## è§£é¢˜æŠ€å·§

### ç±»ä¸é¢å‘å¯¹è±¡

ç±»å’Œé¢å‘å¯¹è±¡ä¸­çš„ä¸‰å¤§ç‰¹æ€§ï¼š**å°è£…**ã€**ç»§æ‰¿**ã€**å¤šæ€**

C++ æ˜¯ä¸€ç§å¤šèŒƒå¼ç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒ**è¿‡ç¨‹ç¼–ç¨‹**å’Œ**é¢å‘å¯¹è±¡ç¼–ç¨‹**ï¼Œå®ƒå°†æ•°æ®å’Œæ“ä½œæ•°æ®çš„æ–¹æ³•ç»„ç»‡ä¸º**ç±»**å’Œ**å¯¹è±¡**ã€‚

è¿™é‡Œçš„â€œ**å¯¹è±¡**â€å®é™…ä¸Šæ˜¯å¯¹ç°å®ä¸–ç•Œä¸­æ‰€å­˜åœ¨çš„äº‹ç‰©çš„ä¸€ç§æŠ½è±¡ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œä½ åœ¨è®¡ç®—æœºä¸–ç•Œä¸­æ€ä¹ˆè¡¨ç¤ºâ€œäººâ€è¿™ä¸ªæ¦‚å¿µå‘¢ï¼Ÿ

æˆ‘ä»¬å¯ä»¥å°†ä¹‹æŠ½è±¡ä¸ºä¸€ä¸ªç±»`Person`, å¹¶å…·æœ‰ä¸€äº›â€œ**å±æ€§**â€å’Œâ€œ**æ–¹æ³•**â€ã€‚

- â€œ**å±æ€§**â€è¡¨ç¤ºPersonç±»æ‰€å…·æœ‰çš„ç‰¹å¾ï¼Œæ¯”å¦‚å§“åã€å¹´é¾„ã€æ€§åˆ«ï¼Œé€šè¿‡è¿™äº›**ç‰¹å¾**ï¼Œæˆ‘ä»¬å¯ä»¥æè¿°ä¸€ä¸ªâ€œäººâ€çš„åŸºæœ¬çŠ¶æ€ã€‚
- â€œ**æ–¹æ³•**â€è¡¨ç¤ºPersonç±»çš„è¡Œä¸ºå’ŒåŠŸèƒ½ï¼Œæ¯”å¦‚åƒé¥­ã€ç¡è§‰ã€è¡Œèµ°ï¼Œé€šè¿‡è¿™äº›**åŠ¨ä½œ**ï¼Œæˆ‘ä»¬å¯ä»¥æè¿°ä¸€ä¸ªâ€œäººâ€çš„åŠ¨æ€è¡Œä¸ºã€‚
  
æ¯”å¦‚ä¸‹é¢çš„â€œä¼ªä»£ç â€è¡¨ç¤º`Person`ç±»çš„å®šä¹‰, å®ƒåŒ…æ‹¬å§“åã€æ€§åˆ«ã€å¹´é¾„å’Œåƒé¥­çš„æ–¹æ³•ã€‚

```c++
Person {
    // å§“åã€æ€§åˆ«ã€å¹´é¾„ç­‰å±æ€§
    name;
    gender;
    age;
      // åƒé¥­çš„æ–¹æ³•
      eat() {
    }
    // è¡Œèµ°çš„æ–¹æ³•
    walk() {
    }
}
```

è¿™æ ·åœ¨è®¡ç®—æœºä¸–ç•Œï¼Œä¸€ä¸ªâ€œäººâ€çš„æ¦‚å¿µå°±å»ºç«‹èµ·æ¥äº†ï¼Œä½†è¿™é‡Œçš„Personç±»åªæ˜¯ä¸ªâ€œ**æ¨¡å…·**â€ï¼Œç©ºæœ‰æ¦‚å¿µï¼Œè€Œæ— æ³•è¡¨ç¤ºå…·ä½“çš„æŸä¸€ä¸ªäººï¼Œåªæœ‰åˆ›é€ ä¸€ä¸ª**ç±»çš„å®ä¾‹**ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„**å¯¹è±¡**ï¼‰ï¼Œæ¯”å¦‚"å¼ ä¸‰ï¼Œ18ï¼Œ ç”·", "ææ˜ã€20ï¼Œç”·"ï¼Œæ‰èƒ½çœŸæ­£çš„ä½¿ç”¨ã€‚

ç®€è€Œè¨€ä¹‹ï¼Œâ€œç±»â€æ˜¯ç°å®ä¸–ç•Œä¸­çš„å®ä½“åœ¨è®¡ç®—æœºä¸–ç•Œä¸­çš„æŠ½è±¡æ¦‚å¿µï¼Œç±»å¯ä»¥çœ‹ä½œæ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå®ƒå®šä¹‰äº†å¯¹è±¡çš„ç»“æ„å’Œè¡Œä¸ºæ–¹å¼ï¼Œå¯ä»¥ç”¨æ¥åˆ›å»ºå…·æœ‰ç›¸åŒå±æ€§å’Œè¡Œä¸ºçš„å¤šä¸ªå¯¹è±¡ï¼Œè€Œå¯¹è±¡æ˜¯â€œç±»â€çš„å®ç°ã€‚

äº†è§£äº†æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ç±»çš„åŸºæœ¬å†™æ³•ï¼š

```c++
class ç±»å{
è®¿é—®ä¿®é¥°ç¬¦:
          // æˆå‘˜å˜é‡ï¼Œè¡¨ç¤ºç±»çš„å±æ€§ï¼Œ å®šä¹‰æ–¹å¼å’Œå˜é‡çš„å®šä¹‰ä¸€æ ·
      // æˆå‘˜æ–¹æ³•ï¼Œè¡¨ç¤ºç±»çš„è¡Œä¸ºï¼Œ å®šä¹‰æ–¹å¼å’Œæ–¹æ³•çš„å®šä¹‰ä¸€æ ·
}; // åˆ†å·ç»“æŸä¸€ä¸ªç±»
```

C++ä½¿ç”¨`class`å®šä¹‰ä¸€ä¸ªç±»ï¼Œå¹¶åœ¨ç±»ä¸­å®šä¹‰æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ã€‚

è®¿é—®ä¿®é¥°ç¬¦æŒ‡å®šäº†æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•çš„å¯è§æ€§å’Œè®¿é—®æƒé™ã€‚å¸¸ç”¨çš„ä¿®é¥°ç¬¦åŒ…æ‹¬ **private(ç§æœ‰)ã€publicï¼ˆå…¬æœ‰ï¼‰å’Œprotectedï¼ˆå—ä¿æŠ¤ï¼‰**ï¼Œ

- `public`: è¢«ä¿®é¥°çš„æˆå‘˜åœ¨ç±»çš„å†…éƒ¨ã€æ´¾ç”Ÿç±»ï¼ˆå­ç±»ï¼‰çš„å†…éƒ¨å’Œç±»çš„å¯¹è±¡å¤–éƒ¨éƒ½å¯ä»¥è®¿é—®ã€‚
- `private`: è¢«ä¿®é¥°çš„æˆå‘˜åªèƒ½åœ¨å®šä¹‰è¯¥æˆå‘˜çš„ç±»çš„å†…éƒ¨è®¿é—®ã€‚
- `protected`: è¢«ä¿®é¥°çš„æˆå‘˜åªèƒ½åœ¨å®šä¹‰è¯¥æˆå‘˜çš„ç±»çš„å†…éƒ¨ä»¥åŠæ´¾ç”Ÿç±»æ±‡æ€»è®¿é—®ã€‚
  
æ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼Œ`public`å®šä¹‰æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•çš„æƒé™ï¼Œåé¢å®šä¹‰äº†æˆå‘˜å˜é‡`myAttribute`å’Œæˆå‘˜æ–¹æ³•`myMethod`ã€‚

```c++
class MyClass {
public:
    // æˆå‘˜å˜é‡
    int myAttribute;

    // æˆå‘˜æ–¹æ³•
    void myMethod() {
        // æ–¹æ³•å®ç°
    }
};

int main() {
    // åˆ›å»ºå¯¹è±¡
    MyClass obj;

    // è®¿é—®å±æ€§
    obj.myAttribute = 42;

    // è°ƒç”¨æ–¹æ³•
    obj.myMethod();

    return 0;
}
```

### å°è£…

å°è£…æ˜¯é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹æ€§ä¹‹ä¸€ï¼Œ**å°è£…çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨æ€§**ï¼Œæˆ‘ä»¬å‡è®¾æœ‰ä¸€ä¸ª`Circle`ç±»ï¼Œå®ƒå…·æœ‰åŠå¾„è¿™ä¸ªå±æ€§ã€‚

```c++
class Circle {
public:
    // æˆå‘˜å˜é‡
    int radius;
};
```

ç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåœ†å¯¹è±¡

```c++
Circle circe; // åˆ›å»ºä¸€ä¸ªå¯¹è±¡
```

åˆ›å»ºå¯¹è±¡ä¹‹åï¼Œå¤–éƒ¨ä»£ç å¯ä»¥ç›´æ¥è®¿é—®å’Œä¿®æ”¹åŠå¾„ï¼Œç”šè‡³å°†å…¶è®¾ç½®ä¸ºè´Ÿæ•°ï¼Œè¿™æ ·çš„è®¾è®¡æ˜¾ç„¶æ˜¯**ä¸åˆç†**çš„ã€‚

```c++
// å¤–éƒ¨ä»£ç æ²¡æœ‰ç»è¿‡éªŒè¯å¯ä»¥ç›´æ¥è®¿é—®å’Œä¿®æ”¹åŠå¾„
circle.radius = 10
```

ä¸ºäº†é˜²æ­¢è¿™äº›é—®é¢˜çš„å‘ç”Ÿï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡**å°è£…éšè—å¯¹è±¡ä¸­ä¸€äº›ä¸å¸Œæœ›è¢«å¤–éƒ¨æ‰€è®¿é—®åˆ°çš„å±æ€§æˆ–æ–¹æ³•**ï¼Œå…·ä½“æ€ä¹ˆåšå‘¢ï¼Ÿå¯ä»¥åˆ†ä¸ºä¸¤æ­¥ï¼š

- å°†å¯¹è±¡çš„å±æ€§åï¼Œè®¾ç½®ä¸º`private`ï¼Œåªèƒ½è¢«ç±»æ‰€è®¿é—®
- æä¾›å…¬å…±çš„`get`å’Œ`set`æ–¹æ³•æ¥è·å–å’Œè®¾ç½®å¯¹è±¡çš„å±æ€§

```c++
class Circle {
// ç§æœ‰å±æ€§å’Œæ–¹æ³•
private:
    int radius;  // å°†åœ†çš„åŠå¾„è®¾ç½®ä¸ºç§æœ‰çš„
// å…¬æœ‰å±æ€§å’Œæ–¹æ³•
public:
      // setXXæ–¹æ³•è®¾ç½®å±æ€§
    void setRadius(int r) {
          radius = r;
    }
        // getXXXæ–¹æ³•è·å–å±æ€§
    int getRadius() {
        return radius;
    }
};
```

ä½¿ç”¨å°è£…ï¼Œæˆ‘ä»¬éšè—äº†ç±»çš„ä¸€äº›å±æ€§ï¼Œå…·ä½“çš„åšæ³•æ˜¯ä½¿ç”¨`get`æ–¹æ³•è·å–å±æ€§ï¼Œä½¿ç”¨`set`æ–¹æ³•è®¾ç½®å±æ€§ï¼Œå¦‚æœå¸Œæœ›å±æ€§æ˜¯åªè¯»çš„ï¼Œåˆ™å¯ä»¥ç›´æ¥å»æ‰`set`æ–¹æ³•ï¼Œå¦‚æœå¸Œæœ›å±æ€§ä¸èƒ½è¢«å¤–éƒ¨è®¿é—®ï¼Œåˆ™å¯ä»¥ç›´æ¥å»æ‰`get`æ–¹æ³•ã€‚æ­¤å¤–æˆ‘ä»¬è¿˜å¯ä»¥åœ¨è¯»å–å±æ€§å’Œä¿®æ”¹å±æ€§çš„åŒæ—¶åšä¸€äº›å…¶ä»–çš„å¤„ç†ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„æ“ä½œï¼š

```c++
void setRadius(int r) {
      // å¯¹è¾“å…¥çš„åŠå¾„è¿›è¡ŒéªŒè¯ï¼Œåªæœ‰åŠå¾„å¤§äº0ï¼Œæ‰è¿›è¡Œå¤„ç†
    if (r >= 0) {
        radius = r;
    } else {
        cout << "åŠå¾„ä¸èƒ½ä¸ºè´Ÿæ•°" << endl;
    }
}
```

### æ„é€ å‡½æ•°
åœ¨å­¦ä¹ ç»§æ‰¿ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å¤ä¹ ä¸€ä¸‹æ„é€ å‡½æ•°çš„çŸ¥è¯†ï¼Œç±»çš„æ„é€ å‡½æ•°å’Œä¹‹å‰ç»“æ„ä½“çš„æ„é€ å‡½æ•°ç±»ä¼¼ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„æˆå‘˜å˜é‡ï¼Œ**æ„é€ å‡½æ•°ä¸ç±»åŒåï¼Œæ²¡æœ‰è¿”å›ç±»å‹ï¼Œå¹¶ä¸”åœ¨å¯¹è±¡åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨**ã€‚å…¶åŸºæœ¬è¯­æ³•åŒ…æ‹¬ï¼š

- å‡½æ•°åï¼šä¸ç±»åç›¸åŒ
- å‚æ•°åˆ—è¡¨ï¼šå¯ä»¥æœ‰é›¶ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œç”¨äºåœ¨åˆ›å»ºå¯¹è±¡æ—¶ä¼ é€’åˆå§‹åŒ–ä¿¡æ¯ã€‚
- å‡½æ•°ä½“ï¼š ç”¨äºæ‰§è¡Œæ„é€ å‡½æ•°çš„åˆå§‹åŒ–é€»è¾‘ã€‚

ä¸‹é¢æˆ‘ä»¬è¿˜ä»¥`Person`ç±»ä½œä¸ºç¤ºä¾‹ï¼ŒåŒ…å«ä¸€ä¸ªé»˜è®¤æ„é€ å‡½æ•°å’Œå¸¦å‚æ•°çš„æ„é€ å‡½æ•°ã€‚

> const string& personNameè¡¨ç¤ºå¯¹stringç±»å‹å¯¹å¸¸é‡å¼•ç”¨ï¼Œä½ å¯ä»¥ä¼ é€’å­—ç¬¦ä¸²å‚æ•°ï¼Œä½†æ˜¯ä¸èƒ½åœ¨å‡½æ•°ä¸­ä¿®æ”¹è¿™ä¸ªå‚æ•°çš„å€¼ã€‚

```c++
class Person {
private:
  int age;
  string name;
public:
  // é»˜è®¤æ„é€ å‡½æ•°
  Person() {
    age = 20;
    name = "Tom"
  }
  // å¸¦å‚æ•°çš„æ„é€ å‡½æ•°
  Person(int personAge, const string& personName) {
    age = personAge;
    name = personName
  }
}
int main() {
    // ä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡
    Person person1;
 
    // ä½¿ç”¨å¸¦å‚æ•°çš„æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡
    Person person2(20, "Jerry");
  
    return 0;
}
```

æ­¤å¤–ï¼Œè¿˜æœ‰æ„é€ å‡½æ•°çš„æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨å†™æ³•ï¼Œè¿™ç§å†™æ³•å…è®¸åœ¨è¿›å…¥æ„é€ å‡½æ•°ä¸»ä½“ä¹‹å‰å¯¹ç±»æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹ã€‚

```c++
Person(int personAge, const string& personName) : age(personAge), name(personName) {
    
}
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ `Person` ç±»çš„æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ª `string` ç±»å‹çš„å‚æ•° `persnName`å’Œä¸€ä¸ª`int`ç±»å‹çš„å‚æ•°`personAge`ï¼Œå¹¶é€šè¿‡æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨åˆå§‹åŒ–äº† æˆå‘˜å˜é‡ã€‚åœ¨è¿™é‡Œï¼Œ: `age(personAge)`, `name(personName)` è¡¨ç¤ºå°† `personAge` çš„å€¼èµ‹ç»™ `age` æˆå‘˜å˜é‡, å°† `personName` çš„å€¼èµ‹ç»™ `name` , ä»è€Œå®Œæˆäº†æˆå‘˜å˜é‡åˆå§‹åŒ–ã€‚

### ç»§æ‰¿
åœ¨å¯¹è±¡ä¸­ï¼Œæ€»æœ‰ä¸€äº›æ“ä½œæ˜¯é‡å¤çš„ï¼Œæ¯”å¦‚è¯´`Person`ç±»å…·æœ‰å§“åã€èº«é«˜ã€å¹´é¾„ç­‰ç‰¹å¾ï¼Œå¹¶å…·æœ‰ä¸€äº›è¡Œèµ°ã€åƒé¥­ã€ç¡è§‰çš„æ–¹æ³•ï¼Œè€Œæˆ‘ä»¬è¦å®ç°ä¸€ä¸ª`Teacher`ç±»ï¼Œ`Teacher`é¦–å…ˆä¹Ÿæ˜¯ä¸€ä¸ªäººï¼Œä»–ä¹Ÿå…·å¤‡äººçš„ç‰¹å¾å’Œæ–¹æ³•ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯ä¹Ÿåº”è¯¥ç”¨ä»£ç å»å®ç°è¿™äº›ç‰¹å¾å’Œæ–¹æ³•å‘¢ï¼Œè¿™å°±åŠ¿å¿…ä¼šäº§ç”Ÿä¸€äº›é‡å¤çš„ä»£ç ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨â€œ**ç»§æ‰¿**â€çš„æ–¹å¼ä½¿å¾—ä¸€ä¸ªç±»è·å–åˆ°å…¶ä»–ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ã€‚åœ¨å®šä¹‰ç±»æ—¶ï¼Œå¯ä»¥åœ¨ç±»ååæŒ‡å®šå½“å‰ç±»çš„**çˆ¶ç±»ï¼ˆè¶…ç±»)**, å­ç±»å¯ä»¥ç›´æ¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œé¿å…ç¼–å†™é‡å¤æ€§çš„ä»£ç ï¼Œæ­¤å¤–æˆ‘ä»¬è¿˜å¯ä»¥å¯¹å­ç±»è¿›è¡Œæ‰©å±•ã€‚

å‡è®¾ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªå›¾å½¢ç±»`Shape`, å®ƒå…·æœ‰ä¸€ä¸ªå±æ€§å’Œä¸€ä¸ªæ–¹æ³•ï¼Œå±æ€§ä¸ºç±»å‹ï¼Œæ–¹æ³•ä¸ºæ±‚å›¾å½¢çš„é¢ç§¯

```c++
class Shape {
protected:
    string type;  // å½¢çŠ¶ç±»å‹

public:
    // æ„é€ å‡½æ•°
    Shape(const string& shapeType) : type(shapeType) {}

    // æ±‚é¢ç§¯çš„å‡½æ•°
    double getArea() const {
        return 0.0;
    }

    // è·å–å½¢çŠ¶ç±»å‹
    string getType() const {
        return type;
    }
};
```

> **åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ`getArea`å‡½æ•°ä½¿ç”¨`const`ç”¨æ¥ä¿®é¥°ï¼Œæ˜¯ç”¨æ¥è¡¨ç¤ºè¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ï¼Œä½¿ç”¨`const`èƒ½ä¿è¯å¯¹å¯¹è±¡çš„è®¿é—®æ˜¯å®‰å…¨çš„ã€‚**

```c++
double getArea() const {
      // ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€
      return 0.0;
}
```

è¦æƒ³å®ç°ç»§æ‰¿ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå…³äºåœ†çš„ç±»`Circle`ï¼Œå®ƒç»§æ‰¿è‡ª`Shape`ç±»

```c++
// Circle ç±»ï¼Œç»§æ‰¿è‡ª Shape
class Circle : public Shape {
private:
    int radius;  // åœ†çš„åŠå¾„

public:
    // æ„é€ å‡½æ•°, è°ƒç”¨Shapeçš„æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–äº†ç±»å‹ä¸º"circle"
    Circle(int circleRadius) : Shape("Circle"), radius(circleRadius) {}

    // é‡å†™åŸºç±»çš„æ–¹æ³•
    double calculateArea() const override{
        return 3.14 * radius * radius;  // åœ†çš„é¢ç§¯å…¬å¼
    }

    // è·å–åŠå¾„
    int getRadius() const {
        return radius;
    }
};
```

| **ç»§æ‰¿æ–¹å¼**      | **åŸºç±» `public` æˆå‘˜** | **åŸºç±» `protected` æˆå‘˜** | **åŸºç±» `private` æˆå‘˜** | **æ€»ç»“**                             |
| ------------- | ------------------ | --------------------- | ------------------- | ---------------------------------- |
| **public**    | ä»ä¸º `public`        | ä»ä¸º `protected`        | **ä¸å¯è®¿é—®**            | **ä¿æŒåŸºç±»åŸæœ‰è®¿é—®çº§åˆ«**ï¼Œæœ€å¸¸ç”¨                 |
| **protected** | å˜ä¸º `protected`     | ä»ä¸º `protected`        | **ä¸å¯è®¿é—®**            | åŸºç±» `public` å˜ä¸º `protected`ï¼Œé™åˆ¶å¤–éƒ¨è®¿é—®  |
| **private**   | å˜ä¸º `private`       | å˜ä¸º `private`          | **ä¸å¯è®¿é—®**            | **æ‰€æœ‰åŸºç±»æˆå‘˜å˜ä¸º `private`**ï¼Œæ´¾ç”Ÿç±»æ— æ³•è¢«è¿›ä¸€æ­¥ç»§æ‰¿ |


åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä»£ç ä¸­ï¼Œå›¾å½¢ç±»æ‹¥æœ‰`shape`å±æ€§å’Œ`getArea`ã€`getType`æ–¹æ³•ï¼Œè€Œå­ç±»åœ¨çˆ¶ç±»è¿™äº›å±æ€§å’Œæ–¹æ³•çš„åŸºç¡€ä¸Šæ–°å¢äº†`radius`å±æ€§å’Œ`getRadius`æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨å­ç±»å’Œçˆ¶ç±»ä¸­éƒ½æœ‰`getArea`è¿™ä¸ªæ–¹æ³•ï¼Œè¿™è¢«ç§°ä¸ºæ–¹æ³•çš„é‡å†™ï¼Œæ–¹æ³•çš„é‡å†™éœ€è¦`override`å…³é”®å­—ï¼Œå…¶æ„æ€æ˜¯å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¹¶æä¾›è‡ªå·±çš„å®ç°ã€‚

### å¤šæ€

**å¤šæ€å¸¸å¸¸å’Œç»§æ‰¿ç´§å¯†ç›¸è¿**ï¼Œå®ƒå…è®¸ä¸åŒçš„å¯¹è±¡ä½¿ç”¨ç›¸åŒçš„æ¥å£è¿›è¡Œæ“ä½œï¼Œä½†åœ¨è¿è¡Œæ—¶è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºã€‚**å¤šæ€æ€§ä½¿å¾—å¯ä»¥ä½¿ç”¨åŸºç±»ç±»å‹çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ¥å¼•ç”¨æ´¾ç”Ÿç±»çš„å¯¹è±¡**ï¼Œä»è€Œåœ¨è¿è¡Œæ—¶é€‰æ‹©è°ƒç”¨ç›¸åº”çš„æ´¾ç”Ÿç±»æ–¹æ³•ã€‚

C++ä¸­å®ç°å¤šæ€æ€§çš„æ–¹æ³•æ˜¯é€šè¿‡`virtual`è™šå‡½æ•°ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼š

```c++
class Shape {
public:
    virtual double calculateArea() const = 0;//çº¯è™šå‡½æ•°
};
class Circle : public Shape {
private:
    int radius;

public:
    double calculateArea() const override {
        return 3.14 * radius * radius;
    }
};
class Rectangle : public Shape {
private:
    int width;
    int height;

public:
    // æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ– width å’Œ height
    Rectangle(int w, int h) : width(w), height(h) {}
    // width * height çš„ç»“æœæ˜¯æ•´æ•°ï¼Œä½† calculateArea æ–¹æ³•çš„è¿”å›ç±»å‹æ˜¯ double
    // ä¸ºäº†ç¡®ä¿ç»“æœæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œä½¿ç”¨ static_cast<double> å°†å…¶æ˜¾å¼è½¬æ¢ä¸º double ç±»å‹
       double calculateArea() const override {
        return static_cast<double>(width * height);
    }
};
```

è¿™é‡Œä½¿ç”¨`virtual`åœ¨çˆ¶ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªè™šå‡½æ•°ï¼Œè€Œ`= 0`è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼Œå³å®šä¹‰çš„å‡½æ•°åœ¨åŸºç±»ä¸­æ²¡æœ‰å®ç°ï¼Œä½†æ˜¯è¦æ±‚å®ƒçš„æ´¾ç”Ÿç±»éƒ½å¿…é¡»æä¾›è¿™ä¸ªå‡½æ•°çš„å®ç°ï¼Œè¿™ç§æŠ½è±¡çš„æ–¹æ³•ä½¿å¾— `Shape` ç±»æˆä¸ºä¸€ä¸ª**æŠ½è±¡åŸºç±»**ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç”¨ä½œæ´¾ç”Ÿå…¶ä»–ç±»çš„åŸºç±»ã€‚

ç„¶åä¸¤ä¸ªæ´¾ç”Ÿç±» `Circle` å’Œ `Rectangle`åˆ™æ˜¯é‡å†™äº† `calculateArea` æ–¹æ³•ï¼Œå®ƒä»¬æä¾›äº†å„è‡ªçš„å®ç°ï¼Œæœ‰ç€ä¸åŒçš„è®¡ç®—é€»è¾‘ã€‚

```c++
int main() {
    std::vector<Shape*> shapes;
    //å¤šæ€æ€§ä½¿å¾—å¯ä»¥ä½¿ç”¨åŸºç±»ç±»å‹çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ¥å¼•ç”¨æ´¾ç”Ÿç±»çš„å¯¹è±¡
    shapes.push_back(new Rectangle(4, 5));
    shapes.push_back(new Circle(3));

    for (const Shape* shape : shapes) {
        std::cout << "Area: " << shape->calculateArea() << std::endl;
    }

    return 0;
}
```

ä¹‹åæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå®¹å™¨`shapes`ï¼ŒåŒ…å«ä¸åŒç±»å‹çš„å›¾å½¢å¯¹è±¡ï¼Œç„¶åå¾ªç¯éå†è¯¥å®¹å™¨å¹¶ä¸ºæ¯ä¸€ä¸ª`shape`å¯¹è±¡è°ƒç”¨ `calculateArea` æ–¹æ³•ï¼Œå°½ç®¡æ–¹æ³•åç§°ç›¸åŒï¼Œä½†å®é™…è°ƒç”¨çš„æ–¹æ³•æ˜¯æ ¹æ®å¯¹è±¡çš„ç±»å‹åŠ¨æ€ç¡®å®šçš„ï¼Œè¿™å…¶å®å°±æ˜¯å¤šæ€çš„æ¦‚å¿µã€‚

> å¡ç C++ç®—æ³•åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œå®Œç»“æ’’èŠ±ğŸ‰ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹  
